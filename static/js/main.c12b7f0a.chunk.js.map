{"version":3,"sources":["components/About.js","components/Login.js","components/Demo.js","components/Navbar.js","App.js","index.js"],"names":["About","className","target","rel","href","alt","src","Component","Login","props","onChange","e","setState","name","value","username","state","device","Form","onSubmit","this","Row","Group","as","Col","md","controlId","Label","Control","required","type","placeholder","defaultValue","Feedback","selected","disabled","hidden","Demo","resetTest","isPractice","sequences","PracticeSequences","TestSequences","isActive","isComplete","generated","results","currentSequenceIndex","currentRepetition","currentCircleIndex","generateCircleData","getResults","generateCsvFromResultLogs","csv","Object","keys","join","map","l","values","csvData","Blob","FileSaver","saveAs","Date","now","toString","resumeTest","restartTimer","pauseTest","completeTest","startTime","performance","timeElapsed","stopTimer","onLoginDetailsChange","loginData","onClick","d","i","hit","s","appendResultLog","distance","radius","direction","Math","round","count","repetitions","length","renderCircles","sequence","rep","time","existingLog","modifiedResults","timestamp","misses","prevState","inSequence","rev","PI","center","container","clientWidth","clientHeight","circles","Array","fill","_","rotationOffset","x","cos","y","sin","color","activeColor","d3","remove","attr","on","stopPropagation","selectAll","data","enter","append","statusBarStyle","width","height","position","zIndex","right","left","top","padding","fontWeight","margin","maxWidth","maxHeight","overflow","backgroundColor","fontSize","Fragment","Modal","centered","keyboard","show","onHide","backdrop","Header","Title","Body","Footer","Button","variant","id","ref","style","bottom","min","Navbar","to","App","basename","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c12b7f0a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport class About extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"container py-5\">\r\n                <h1>Fitt's Law Demo</h1>\r\n                <hr/>\r\n                <p className=\"text-justify\">\r\n                    This application was created to test Fitt's law, by collecting data of user input in two dimensions. \r\n                    It does so by prompting the user to click or tap several sequences of circles as highlighted and logging the accuracy and time taken to select each circle. \r\n                    This data is then made available to the user at the end of the test via a CSV file.\r\n                    For more information, feel free to contact me via my social accounts.\r\n                </p>\r\n                <hr/>\r\n                <p>Built with React, D3, and FileShare by Vishnu Gunapathi.</p>\r\n                <hr/>\r\n                <div className=\"icon-container\">\r\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/twinji\">\r\n                        <img alt=\"GitHub\" src=\"https://raw.githubusercontent.com/twinji/twinji/master/icons/github.svg\"/>\r\n                    </a>\r\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.instagram.com/_twinji/\">\r\n                        <img alt=\"Instagram\" src=\"https://raw.githubusercontent.com/twinji/twinji/master/icons/instagram.svg\"/>\r\n                    </a>\r\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.linkedin.com/in/twinji/\">\r\n                        <img alt=\"LinkedIn\" src=\"https://raw.githubusercontent.com/twinji/twinji/master/icons/linkedin.svg\"/>\r\n                    </a>\r\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://twitter.com/_twinji\">\r\n                        <img alt=\"Twitter\" src=\"https://raw.githubusercontent.com/twinji/twinji/master/icons/twitter.svg\"/>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default About\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport PropTypes from 'prop-types';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nexport class Login extends Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: '',\r\n            device: ''\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ \r\n            [e.target.name]: e.target.value \r\n        }, () => {\r\n            this.props.onChange({\r\n                username: this.state.username,\r\n                device: this.state.device\r\n            })\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Form onSubmit={this.onSubmit}>\r\n                <Form.Row>\r\n                    <Form.Group as={Col} md=\"6\" controlId=\"loginForm.ControlInputUsername\">\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control\r\n                            required\r\n                            type=\"text\"\r\n                            placeholder=\"Username\"\r\n                            name=\"username\"\r\n                            defaultValue=\"\"\r\n                            onChange={this.onChange}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">\r\n                            Please enter your username\r\n                        </Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} md=\"6\" controlId=\"loginForm.ControlInputDevice\">\r\n                        <Form.Label>Device</Form.Label>\r\n                        <Form.Control \r\n                            as=\"select\"\r\n                            defaultValue=\"\" \r\n                            required \r\n                            onChange={this.onChange}\r\n                            name=\"device\"\r\n                        >\r\n                            <option value=\"\" selected disabled hidden>Select a device</option>\r\n                            <option value=\"mouse\">Mouse</option>\r\n                            <option value=\"trackpad\">Trackpad</option>\r\n                            <option value=\"touchscreen\">Touchscreen</option>\r\n                        </Form.Control>\r\n                        <Form.Control.Feedback type=\"invalid\">\r\n                            Please select your input device\r\n                        </Form.Control.Feedback>\r\n                    </Form.Group>\r\n                </Form.Row>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    onChange: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Login\r\n","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Login from './Login';\r\nimport FileSaver from 'file-saver';\r\nimport TestSequences from '../data/test_sequences.json';\r\nimport PracticeSequences from '../data/practice_sequences.json';\r\n\r\nexport class Demo extends Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.state = {\r\n            isActive: false,\r\n            isComplete : false,\r\n            isPractice: null,\r\n            username: '',\r\n            device: '',\r\n            sequences: null,\r\n            generated: [],\r\n            results: [],\r\n            currentSequenceIndex: 0,\r\n            currentRepetition: 1,\r\n            currentCircleIndex: 0\r\n        }\r\n    }\r\n\r\n    resetTest = () => {\r\n\r\n        let isPractice = this.state.isPractice == null ? true : !this.state.isPractice;\r\n        this.setState({\r\n            isPractice,\r\n            sequences: isPractice ? PracticeSequences : TestSequences,\r\n            username: '',\r\n            device: '',\r\n            isActive: false,\r\n            isComplete: false,\r\n            generated: [],\r\n            results: [],\r\n            currentSequenceIndex: 0,\r\n            currentRepetition: 1,\r\n            currentCircleIndex: 0\r\n        }, () => {\r\n            this.generateCircleData();\r\n        });\r\n    }\r\n\r\n    getResults = () => {\r\n        this.generateCsvFromResultLogs();\r\n    }\r\n    \r\n    generateCsvFromResultLogs = () => {\r\n        const csv = Object.keys(this.state.results[0]).join(',') + '\\n'\r\n            + this.state.results.map(l => Object.values(l).join(',')).join('\\n');\r\n\r\n        const csvData = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n        FileSaver.saveAs(csvData, 'fitts_law_results_' + Date.now().toString() + '.csv');\r\n    }\r\n    \r\n    resumeTest = () => {\r\n        this.setState({\r\n            isActive: true\r\n        });\r\n        this.restartTimer();\r\n    }\r\n\r\n    pauseTest = () => {\r\n        this.setState({\r\n            isActive: false\r\n        });\r\n    }\r\n\r\n    completeTest = () => {\r\n        this.setState({\r\n            isActive: false,\r\n            isComplete: true\r\n        }, () => {\r\n            if (!this.state.isPractice)\r\n                this.getResults();\r\n        });\r\n    }\r\n\r\n    restartTimer = () => {\r\n        this.startTime = performance.now();\r\n        this.timeElapsed = null;\r\n    }\r\n\r\n    stopTimer = () => {\r\n        this.timeElapsed = performance.now() - this.startTime;\r\n    }\r\n\r\n    onLoginDetailsChange = (loginData) => {\r\n        this.setState({\r\n            username: loginData.username,\r\n            device: loginData.device\r\n        })\r\n    }\r\n\r\n    onClick = (d, i) => {\r\n\r\n        if (!this.state.isActive)\r\n            return;\r\n\r\n        let hit = i === this.state.currentCircleIndex;\r\n\r\n        if (hit) {\r\n            this.stopTimer();\r\n        }\r\n\r\n        const s = this.state.sequences[this.state.currentSequenceIndex];\r\n\r\n        this.appendResultLog(\r\n            this.state.username,\r\n            this.state.device,\r\n            this.state.currentSequenceIndex + 1,\r\n            this.state.currentRepetition,\r\n            s.distance,\r\n            s.radius,\r\n            s.direction,\r\n            hit,\r\n            this.timeElapsed\r\n        );\r\n\r\n        if (hit) {\r\n            let currentSequenceIndex = this.state.currentSequenceIndex;\r\n            let s = this.state.sequences[currentSequenceIndex];\r\n            let currentCircleIndex = (this.state.currentCircleIndex + Math.round(s.count / 2)) % s.count;\r\n            let currentRepetition = this.state.currentRepetition + 1;\r\n            let isComplete = false;\r\n\r\n            if (currentRepetition > s.repetitions) {\r\n                currentRepetition = 1;\r\n                currentCircleIndex = 0;\r\n                currentSequenceIndex++;\r\n\r\n                if (currentSequenceIndex >= this.state.sequences.length) {\r\n                    this.completeTest();\r\n                    isComplete = true;\r\n                } else {\r\n                    this.pauseTest();\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                currentCircleIndex,\r\n                currentRepetition,\r\n                currentSequenceIndex\r\n            }, () => {\r\n                if (!isComplete) {\r\n                    this.renderCircles();\r\n                    this.restartTimer();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    appendResultLog = (username, device, sequence, rep, distance, radius, direction, hit, time) => {\r\n\r\n        let existingLog = false;\r\n        var modifiedResults = this.state.results.map(l => {\r\n            if (l.username === username && l.device === device && l.sequence === sequence && l.rep === rep) {\r\n                existingLog = true;\r\n                l.timestamp = Date.now();\r\n                if (!hit) {\r\n                    l.misses++;\r\n                } else {\r\n                    l.hit = hit;\r\n                    l.time = this.timeElapsed;\r\n                }\r\n            }\r\n            return l;\r\n        });\r\n\r\n        if (existingLog) {\r\n            this.setState({\r\n                results: modifiedResults\r\n            });\r\n        } else {\r\n            this.setState(prevState => ({\r\n                results: [...prevState.results, {\r\n                    username, \r\n                    device, \r\n                    sequence, \r\n                    rep, \r\n                    distance, \r\n                    radius, \r\n                    direction, \r\n                    hit, \r\n                    time, \r\n                    misses: hit ? 0 : 1, \r\n                    timestamp: Date.now()\r\n                }]\r\n            }));\r\n        }\r\n    }\r\n\r\n    inSequence = () => {\r\n        return this.state.currentSequenceIndex > 0 && !this.state.isComplete;\r\n    }\r\n    \r\n    generateCircleData = () => {\r\n\r\n        this.setState({\r\n            generated: this.state.sequences.map((s) => {\r\n                \r\n                let rev = Math.PI * 2;\r\n                let center = {\r\n                    x: this.container.clientWidth / 2,\r\n                    y: this.container.clientHeight / 2\r\n                }\r\n\r\n                return {\r\n                    circles: Array(s.count).fill().map((_, i) => {\r\n                        let rotationOffset = Math.PI * 1.5;\r\n                        return {\r\n                            x: center.x + Math.cos(rotationOffset + i * (rev / s.count)) * s.distance / 2,\r\n                            y: center.y + Math.sin(rotationOffset + i * (rev / s.count)) * s.distance / 2,\r\n                            radius: s.radius,\r\n                            color: 'lightgray',\r\n                            activeColor: 'crimson'\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }, this.renderCircles);\r\n    }\r\n\r\n    renderCircles = () => {\r\n\r\n        d3.selectAll(\"svg > *\").remove();\r\n        \r\n        let svgContainer = d3\r\n            .select(\"#demoContainer > svg\")\r\n            .attr(\"width\", this.container.clientWidth)\r\n            .attr(\"height\", this.container.clientHeight)\r\n            .on(\"click\", e => {\r\n                d3.event.stopPropagation();\r\n                this.onClick(null, -1);\r\n            });\r\n\r\n        let circles = svgContainer\r\n            .selectAll(\"circle\")\r\n            .data(this.state.generated[this.state.currentSequenceIndex].circles)\r\n            .enter()\r\n            .append(\"circle\");\r\n\r\n        circles\r\n            .attr(\"cx\", d => d.x)\r\n            .attr(\"cy\", d => d.y)\r\n            .attr(\"r\", d => d.radius)\r\n            .attr(\"fill\", (d, i) => i === this.state.currentCircleIndex ? d.activeColor : d.color)\r\n            .on(\"click\", (d, i) => {\r\n                d3.event.stopPropagation();\r\n                this.onClick(d, i);\r\n            });\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.resetTest();\r\n    }\r\n\r\n    render() {\r\n\r\n        const containerStyle = {\r\n            width: 'auto',\r\n            height: 'auto',\r\n            position: 'fixed',\r\n            zIndex: -99,\r\n            right: 0, left: 0, top: 0, bottom: 0,\r\n            margin: 'auto',\r\n            maxWidth: '100%',\r\n            maxHeight: '100%',\r\n            overflow: 'visible',\r\n        }\r\n\r\n        const statusBarStyle = {\r\n            width: 'auto',\r\n            height: 'auto',\r\n            position: 'absolute',\r\n            zIndex: -100,\r\n            right: 0, left: 0, top: 55,\r\n            padding: 6,\r\n            fontWeight: 'bold',\r\n            margin: 'auto',\r\n            maxWidth: '100%',\r\n            maxHeight: '100%',\r\n            overflow: 'visible',\r\n            backgroundColor: this.state.isPractice ? 'orange' : 'lightblue',\r\n            color: 'white',\r\n            fontSize: '20px',\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Modal centered keyboard={false} show={!this.state.isActive} onHide={this.resumeTest} backdrop=\"static\">\r\n                    <Modal.Header>\r\n                        {\r\n                            (this.inSequence() || this.state.isComplete) &&\r\n                            <Modal.Title>\r\n                                {this.state.isPractice ? 'Practice sequence' : 'Sequence'} {this.state.currentSequenceIndex} out of {this.state.sequences.length} complete\r\n                            </Modal.Title>\r\n                        }\r\n                        {              \r\n                            !this.inSequence() && !this.state.isComplete &&\r\n                            <Modal.Title>\r\n                                Fitt's law demo\r\n                            </Modal.Title>\r\n                        }\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {\r\n                            !this.inSequence() && !this.state.isComplete && <Login onChange={this.onLoginDetailsChange}/>\r\n                        }\r\n                        { \r\n                            this.inSequence() ? \r\n                                'Take a break and proceed to the next sequence when you are ready.' : \r\n                                    (this.state.isComplete ? (this.state.isPractice ? 'You have completed the practice run, click below to continue.' : 'You have completed this demo, click below to view results.') : \r\n                                        'Select the red circles as they appear as quickly as possible to the best of your ability.') \r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        {\r\n                            !this.state.isComplete &&\r\n                            <Button variant=\"primary\" onClick={this.resumeTest} disabled={!this.state.username || !this.state.device}>\r\n                                { this.inSequence() ? 'Proceed' : (this.state.isPractice ? 'Begin practice' : 'Begin test')  }\r\n                            </Button>\r\n                        }\r\n                        {\r\n                            (this.state.isComplete && this.state.isPractice) && \r\n                            <React.Fragment>\r\n                                <Button variant=\"secondary\" onClick={this.resetTest}>\r\n                                    Continue\r\n                                </Button>\r\n                            </React.Fragment>\r\n                        }\r\n                        {\r\n                            (this.state.isComplete && !this.state.isPractice) && \r\n                            <React.Fragment>\r\n                                <Button variant=\"secondary\" onClick={this.resetTest}>\r\n                                    Retry demo\r\n                                </Button>\r\n                                <Button variant=\"primary\" onClick={this.getResults}>\r\n                                    Get results\r\n                                </Button>\r\n                            </React.Fragment>\r\n                        }\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <div id=\"demoContainer\" ref={ container => this.container = container } style={containerStyle}>\r\n                    {\r\n                        this.state.sequences !== null &&\r\n                        <span style={statusBarStyle}>\r\n                            {this.state.isPractice ? 'Practice sequence' : 'Sequence'}\r\n                            &nbsp;\r\n                            {Math.min(this.state.currentSequenceIndex + 1, this.state.sequences.length)}/{this.state.sequences.length}\r\n                            </span>\r\n                    }\r\n                    <svg></svg>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Demo\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class Navbar extends Component {\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light rounded\">\r\n                <div className=\"container py-0 my-0\">\r\n                    <Link className=\"navbar-brand\" to=\"/\">Fitts' Law Demo</Link>\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link text-dark\" to=\"/about\">About</Link>\r\n                    </li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport About from './components/About';\nimport Demo from './components/Demo';\nimport Navbar from './components/Navbar';\n\n\nexport default function App() {\n  return (\n    <Router basename=\"/\">\n      <div className=\"App\">\n        <Navbar/>\n        <Switch>\n          <Route exact path=\"/\">\n            <Demo/>\n          </Route>\n          <Route path=\"/about\">\n            <About/>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport './custom.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}