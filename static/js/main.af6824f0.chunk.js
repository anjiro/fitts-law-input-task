(this["webpackJsonpfitts-law-input-task"]=this["webpackJsonpfitts-law-input-task"]||[]).push([[0],{27:function(e){e.exports=JSON.parse('[{"circlePathDiamater":300,"radius":20,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":200,"radius":30,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":700,"radius":10,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":600,"radius":40,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":400,"radius":60,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":450,"radius":10,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":200,"radius":10,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":100,"radius":10,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":600,"radius":50,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":650,"radius":20,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":350,"radius":65,"count":7,"repetitions":15,"direction":1},{"circlePathDiamater":350,"radius":10,"count":9,"repetitions":15,"direction":1}]')},45:function(e){e.exports=JSON.parse('[{"circlePathDiamater":600,"radius":40,"count":9,"repetitions":15,"direction":1},{"circlePathDiamater":300,"radius":20,"count":9,"repetitions":15,"direction":1}]')},57:function(e,t,a){e.exports=a(70)},62:function(e,t,a){},63:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(16),c=a.n(r),s=(a(62),a(21)),o=a(6),l=(a(63),a(11)),u=a(12),m=a(14),h=a(13),d=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"container py-5"},i.a.createElement("h1",null,"Fitt's Law Demo"),i.a.createElement("hr",null),i.a.createElement("p",{className:"text-justify"},"This application was created to test Fitt's law, by collecting data of user input in two dimensions. It does so by prompting the user to click or tap several sequences of circles as highlighted and logging the accuracy and time taken to select each circle. This data is then made available to the user at the end of the test via a CSV file. For more information, feel free to contact me via my social accounts."),i.a.createElement("hr",null),i.a.createElement("p",null,"Built with React, D3, and FileShare by Vishnu Gunapathi."),i.a.createElement("hr",null),i.a.createElement("div",{className:"icon-container"},i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/twinji"},i.a.createElement("img",{alt:"GitHub",src:"https://raw.githubusercontent.com/twinji/twinji/master/icons/github.svg"})),i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.instagram.com/_twinji/"},i.a.createElement("img",{alt:"Instagram",src:"https://raw.githubusercontent.com/twinji/twinji/master/icons/instagram.svg"})),i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/twinji/"},i.a.createElement("img",{alt:"LinkedIn",src:"https://raw.githubusercontent.com/twinji/twinji/master/icons/linkedin.svg"})),i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/_twinji"},i.a.createElement("img",{alt:"Twitter",src:"https://raw.githubusercontent.com/twinji/twinji/master/icons/twitter.svg"}))))}}]),a}(n.Component),p=a(37),f=a(22),g=a(18),v=a(23),b=a(43),C=a(10),E=a(20),w=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChange=function(e){console.log("State:",n.state),n.setState(Object(b.a)({},e.target.name,e.target.value),(function(){n.props.onChange({username:n.state.username,device:n.state.device,fittsParams:n.state.fittsParams})}))},n.state={username:"",device:"",fittsParams:e.fittsParams},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement(C.a,{onSubmit:this.onSubmit},i.a.createElement(C.a.Row,null,i.a.createElement(C.a.Group,{as:E.a,md:"6",controlId:"loginForm.ControlInputUsername"},i.a.createElement(C.a.Label,null,"Condition"),i.a.createElement(C.a.Control,{required:!0,type:"text",placeholder:"Condition",name:"username",defaultValue:"",onChange:this.onChange}),i.a.createElement(C.a.Control.Feedback,{type:"invalid"},"Please enter your username"))),i.a.createElement(C.a.Row,null,i.a.createElement(C.a.Group,{as:E.a,md:"12",controlId:"loginForm.ControlFittsParams"},i.a.createElement(C.a.Label,null,"Fitts Parameters"),i.a.createElement(C.a.Control,{required:!0,as:"textarea",defaultValue:this.state.fittsParams,name:"fittsParams",onChange:this.onChange}))))}}]),a}(n.Component),P=a(44),y=a.n(P),k=a(27),x=(a(45),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).resetTest=function(){var e=k,t=Math.max.apply(Math,Object(p.a)(e.map((function(e){return e.circlePathDiamater+2*e.radius})))),a=Math.min(n.container.clientWidth,n.container.clientHeight),i=a>t?1:a/t;n.setState({isPractice:!1,sequences:e,scale:i,username:"",device:"",isActive:!1,isComplete:!1,generated:[],results:[],currentSequenceIndex:0,currentRepetition:1,currentCircleIndex:0,previousCircleIndex:null},(function(){n.generateCircleData()}))},n.getResults=function(){n.generateCsvFromResultLogs()},n.generateCsvFromResultLogs=function(){var e=Object.keys(n.state.results[0]).join(",")+"\n"+n.state.results.map((function(e){return Object.values(e).join(",")})).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"});y.a.saveAs(t,n.state.username+"_"+n.state.device+"_fitts_law_results_"+Date.now().toString()+".csv")},n.resumeTest=function(){n.setState({isActive:!0,previousCircleIndex:null}),n.restartTimer()},n.pauseTest=function(){n.setState({isActive:!1})},n.completeTest=function(){n.setState({isActive:!1,isComplete:!0},(function(){n.state.isPractice||n.getResults()}))},n.restartTimer=function(){n.startTime=performance.now(),n.timeElapsed=null},n.stopTimer=function(){n.timeElapsed=performance.now()-n.startTime},n.generateNewSequences=function(e){return e.split("\n").filter((function(e){return e.trim()})).map((function(e){return e.split(",").filter((function(e){return e.trim()})).map(Number)})).filter((function(e){return e.length>1})).map((function(e){return{circlePathDiamater:e[0],radius:e[1],count:n.state.numCircles,repetitions:n.state.numClicks,direction:n.state.direction}}))},n.onLoginDetailsChange=function(e){n.setState({username:e.username,device:e.device,sequences:n.generateNewSequences(e.fittsParams)},(function(){n.generateCircleData()}))},n.skipPractice=function(){n.state.isPractice&&n.setState({isActive:!1,isPractice:!1,sequences:k},(function(){n.generateCircleData()}))},n.escPressed=function(e){27===e.keyCode&&n.skipPractice()},n.calculateDistance=function(e,t,a,n){var i=t-e,r=n-a;return Math.sqrt(i*i+r*r)},n.onClick=function(e,t){if(n.state.isActive){console.log("Circle click",e,t);var a=t===n.state.currentCircleIndex;a&&n.stopTimer();var i=n.state.currentSequenceIndex,r=null==e?{x:null,y:null}:{x:e.x,y:e.y},c=n.state.sequences[i];if(n.appendResultLog(n.state.username,n.state.device,n.state.currentSequenceIndex+1,n.state.currentRepetition,c.circlePathDiamater,null,c.radius,c.direction,a,n.timeElapsed,r.x,r.y),a){var s=n.state.currentSequenceIndex,o=n.state.sequences[s],l=n.state.currentCircleIndex,u=(n.state.currentCircleIndex+Math.round(o.count/2))%o.count,m=n.state.currentRepetition+1,h=!1;m>o.repetitions&&(m=1,u=0,++s>=n.state.sequences.length?(n.completeTest(),h=!0):n.pauseTest()),n.setState({currentCircleIndex:u,currentRepetition:m,currentSequenceIndex:s,previousCircleIndex:l},(function(){h||(n.renderCircles(),n.restartTimer())}))}}},n.appendResultLog=function(e,t,a,i,r,c,s,o,l,u,m,h){var d=!1,f=n.state.results.map((function(r){return r.username===e&&r.device===t&&r.sequence===a&&r.rep===i&&(d=!0,r.timestamp=Date.now(),l?(r.hit=l,r.time=n.timeElapsed):r.misses++),r}));d?n.setState({results:f}):n.setState((function(t){return{results:[].concat(Object(p.a)(t.results),[{condition:e,sequence:a,rep:i,circlePathDiameter:r,radius:s,hit:l,hitX:m,hitY:h,time:u,timestamp:Date.now()}])}}))},n.inSequence=function(){return n.state.currentSequenceIndex>0&&!n.state.isComplete},n.generateCircleData=function(){console.log("Sequences:",n.state.sequences),n.state.sequences.length>0&&n.setState({generated:n.state.sequences.map((function(e){var t=2*Math.PI,a=n.container.clientWidth/2,i=n.container.clientHeight/2;return{circles:Array(e.count).fill().map((function(r,c){var s=1.5*Math.PI;return{x:a+Math.cos(s+c*(t/e.count))*n.state.scale*e.circlePathDiamater/2,y:i+Math.sin(s+c*(t/e.count))*n.state.scale*e.circlePathDiamater/2,radius:e.radius*n.state.scale,color:"lightgray",activeColor:"crimson"}}))}}))},n.renderCircles)},n.renderCircles=function(){f.c("svg > *").remove(),f.b("#demoContainer > svg").attr("width",n.container.clientWidth).attr("height",n.container.clientHeight).on("click",(function(e){f.a.stopPropagation(),n.onClick(null,-1)})).selectAll("circle").data(n.state.generated[n.state.currentSequenceIndex].circles).enter().append("circle").attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).attr("r",(function(e){return e.radius})).attr("fill",(function(e,t){return t===n.state.currentCircleIndex?e.activeColor:e.color})).on("click",(function(e,t){f.a.stopPropagation(),n.onClick(e,t)}))},n.state={isActive:!1,isComplete:!1,isPractice:!1,username:"",device:"",sequences:null,generated:[],results:[],currentSequenceIndex:0,currentRepetition:1,currentCircleIndex:0,previousCircleIndex:null,fittsParams:k.map((function(e){return[e.circlePathDiamater,2*e.radius]})),numCircles:9,numClicks:10,direction:1,lastCircleClick:{x:null,y:null}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escPressed,!1),this.resetTest()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escPressed,!1)}},{key:"render",value:function(){var e=this,t={width:"auto",height:"auto",position:"absolute",zIndex:-100,right:0,left:0,top:55,padding:6,fontWeight:"bold",margin:"auto",maxWidth:"100%",maxHeight:"100%",overflow:"visible",backgroundColor:this.state.isPractice?"orange":"lightblue",color:"white",fontSize:"20px"};return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{centered:!0,keyboard:!1,show:!this.state.isActive,onHide:this.resumeTest,backdrop:"static"},i.a.createElement(g.a.Header,null,(this.inSequence()||this.state.isComplete)&&i.a.createElement(g.a.Title,null,this.state.isPractice?"Practice sequence":"Sequence"," ",this.state.currentSequenceIndex," out of ",this.state.sequences.length," complete"),!this.inSequence()&&!this.state.isComplete&&i.a.createElement(g.a.Title,null,"Fitt's law demo")),i.a.createElement(g.a.Body,null,!this.inSequence()&&!this.state.isComplete&&i.a.createElement(w,{onChange:this.onLoginDetailsChange,fittsParams:this.state.fittsParams?this.state.fittsParams.map((function(e){return e.join(",")})).join("\n"):""}),this.inSequence()?"Take a break and proceed to the next sequence when you are ready.":this.state.isComplete?this.state.isPractice?"You have completed the practice run, click below to continue.":"You have completed this demo, click below to view results.":"Select the red circles as they appear as quickly as possible to the best of your ability."),i.a.createElement(g.a.Footer,null,!this.state.isComplete&&i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{variant:"primary",onClick:this.resumeTest,disabled:!this.state.username},this.inSequence()?"Proceed":this.state.isPractice?"Begin practice":"Begin test")),this.state.isComplete&&this.state.isPractice&&i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{variant:"secondary",onClick:this.resetTest},"Continue")),this.state.isComplete&&!this.state.isPractice&&i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{variant:"secondary",onClick:this.resetTest},"Retry demo"),i.a.createElement(v.a,{variant:"primary",onClick:this.getResults},"Get results")))),i.a.createElement("div",{id:"demoContainer",ref:function(t){return e.container=t},style:{width:"auto",height:"auto",position:"fixed",zIndex:-99,right:0,left:0,top:0,bottom:0,margin:"auto",maxWidth:"100%",maxHeight:"100%",overflow:"visible"}},null!==this.state.sequences&&i.a.createElement("span",{style:t},this.state.isPractice?"Practice sequence":"Sequence","\xa0",Math.min(this.state.currentSequenceIndex+1,this.state.sequences.length),"/",this.state.sequences.length),i.a.createElement("svg",null)))}}]),a}(n.Component)),q=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light rounded"},i.a.createElement("div",{className:"container py-0 my-0"},i.a.createElement(s.b,{className:"navbar-brand",to:"/"},"Fitts' Law Demo"),i.a.createElement("ul",{className:"navbar-nav ml-auto"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(s.b,{className:"nav-link text-dark",to:"/about"},"About")))))}}]),a}(n.Component);function S(){return i.a.createElement(s.a,{basename:"/"},i.a.createElement("div",{className:"App"},i.a.createElement(q,null),i.a.createElement(o.c,null,i.a.createElement(o.a,{exact:!0,path:"/"},i.a.createElement(x,null)),i.a.createElement(o.a,{path:"/about"},i.a.createElement(d,null)))))}a(69);c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(S,null)),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.af6824f0.chunk.js.map